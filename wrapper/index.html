<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Keep-playing page wrapper</title>

  <style>
    body {
      background-color: #2a2a3e;
      color: #e6e6fa;
      font-family: sans-serif;
      margin: 0;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    h1 {
      color: #9f7aea;
      text-align: center;
    }

    p {
      text-align: center;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    form {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    input[type="text"] {
      background-color: #3b3b58;
      color: #e6e6fa;
      border: 1px solid #5a5a7a;
      border-radius: 15px;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      width: 70%;
      max-width: 400px;
      transition: border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #9f7aea;
      box-shadow: 0 0 5px rgba(159, 122, 234, 0.5);
    }

    input[type="submit"] {
      background-color: #9f7aea;
      color: #ffffff;
      border: none;
      border-radius: 15px;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease-in-out;
    }

    input[type="submit"]:hover {
      background-color: #8a63d4;
    }

    audio {
      width: 100%;
      max-width: 500px;
      margin-top: 0.5rem;
      border-radius: 15px;
      height: 100px;
    }

    iframe {
      border: 1px solid #5a5a7a;
      border-radius: 15px;
      width: 100%;
      height: 60vh;
      margin-top: 0.5rem;
    }

    @media (max-width: 600px) {
      body {
        padding: 0.5rem;
      }

      h1 {
        font-size: 1.5rem;
      }

      form {
        flex-direction: column;
        width: 100%;
      }

      input[type="text"] {
        width: 90%;
      }

      input[type="submit"] {
        width: 95%;
      }

      iframe {
        height: 70vh;
      }
    }
  </style>
</head>

<body>

  <h1>Keep-playing page wrapper</h1>
  <p>Load a site in an iframe alongside looped audio file.</p>
  <form action="/wrapper/" method="get">
    URL: <input type="text" id="src" name="src" value=""><input type="submit" value="Go">
  </form>

  <script>
    const params = new URLSearchParams(window.location.search);
    if (params.get('src'))
    {
      document.getElementById('src').value = params.get('src');
      document.write(`
<p>Dummy audio file (keep this playing + unmuted)<br/><b>iOS users: press play manually</b><br/>
<audio id="audiofile" autoplay controls loop src="data:audio/mpeg;base64, SUQzBACAAAAQeFRJVDIAAAAUAAAAMSBTZWNvbmQgb2YgU2lsZW5jZVRQRTEAAAASAAAAQW5hciBTb2Z0d2FyZSBMTENUQUxCAAAADAAAAEJsYW5rIEF1ZGlvVENNUAAAAAIAAAMwVFBFMgAAABIAAANBbmFyIFNvZnR3YXJlIExMQwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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"></audio></p>
<p>Site contents:<br/>
<iframe src="${params.get('src')}"></iframe></p>`);
    }

    var audiofile = document.getElementById("audiofile");
    if (audiofile)
    {
      window.onload = function () { audiofile.play(); }
    }
  </script>
</body>

</html>
